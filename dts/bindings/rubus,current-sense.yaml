# Copyright (c) 2024 Rubus Inc.
# SPDX-License-Identifier: Apache-2.0

description: Current sensing configuration

compatible: "rubus,current-sense"

properties:
  channels:
    type: array
    required: true
    description: |
      ADC channel configurations as <channel polarity> tuples.
      Polarity: CURRENT_SENSE_POSITIVE (1) or CURRENT_SENSE_NEGATIVE (-1).

  adc-buffer-indices:
    type: array
    required: true
    description: |
      Indices into the ADC results buffer where each channel's data is stored.
      Must match the order of channels property (index 0 for first channel, etc.).

  current-sense-resistor-uohms:
    type: int
    required: true
    description: Current sense resistor in microohms

  current-sense-gain:
    type: int
    required: true
    description: Current sense amplifier gain

  vref-mv:
    type: int
    required: true
    description: ADC reference voltage in millivolts
